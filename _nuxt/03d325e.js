(window.webpackJsonp=window.webpackJsonp||[]).push([[13,12],{452:function(t,e,n){"use strict";n.r(e);n(43);var r=n(1).a.extend({props:{title:String,items:null|Array,preview_number:{required:!1,default:6},preview_titles:Array},data:function(){return{load:!0,preview:!0}},computed:{get_items:function(){return null==this.items?null:this.preview?this.items.slice(0,this.preview_number):this.items},get_preview_title:function(){return this.preview?this.preview_titles[0]:this.preview_titles[1]},is_initial_loading:function(){return this.load&&null===this.items},is_loading:function(){return!(this.load&&null===this.items)&&this.load}},methods:{loading:function(){this.load=!0},loaded:function(){this.load=!1}}}),o=n(57),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"card compact shadow bordered bg-base-100 pb-2"},[e("div",{staticClass:"stats relative"},[t.is_loading?e("div",{staticClass:"btn btn-sm bg-base-100 border-0 btn-square loading absolute top-2 right-2"}):t._e(),t._v(" "),e("div",{staticClass:"stat text-center"},[e("div",{staticClass:"stat-title"},[t._v(t._s(t.title))]),t._v(" "),t.is_initial_loading?e("div",{staticClass:"stat-value"},[e("div",{staticClass:"btn btn-md bg-base-100 border-0 btn-square loading"})]):t._e()])]),t._v(" "),t.is_initial_loading?t._e():e("div",[null!==t.items&&t.get_items.length>0?e("div",[t._t("content",null,{get_items:t.get_items}),t._v(" "),e("div",{staticClass:"mt-4"},[t.items.length>t.preview_number?e("div",{staticClass:"text-center"},[e("div",{staticClass:"btn uppercase border border-green btn-green",on:{click:function(e){t.preview=!t.preview}}},[t._v(t._s(t.get_preview_title))])]):t._e()])],2):e("div",{staticClass:"text-center font-bold mb-2 text-xl"},[t._v("\n            Pas de statistiques\n        ")])])])}),[],!1,null,null,null);e.default=component.exports},453:function(t,e,n){n(5)({target:"Math",stat:!0},{trunc:n(270)})},483:function(t,e,n){"use strict";n.r(e);n(35);var r=n(2),o=n(97),l=(n(24),n(184),n(453),n(83),n(70),n(1)),c=n(452),d=l.a.extend({props:["streamer"],components:{StatisticsList:c.default},data:function(){return{interval:null,workaround:0}},watch:{streamer:function(){this.fetch()}},computed:{streamer_name:function(){return void 0===this.streamer||null===this.streamer?"all":this.streamer},games:function(){if(this.workaround,null==this.$store.state.stats.streamed_hours_games[this.streamer_name]||this.$store.state.stats.streamed_hours_games[this.streamer_name]==[])return[];var t=Object(o.a)(this.$store.state.stats.streamed_hours_games[this.streamer_name]);return t.sort((function(a,b){return b.streamed_seconds-a.streamed_seconds})),t}},methods:{format_duration:function(t){if(null==t)return null;var e=Math.trunc(t/60),n=Math.trunc(e/60),r=Math.trunc(n/24);n%=24;var o="";(e%=60)<10&&(o="0");var l="".concat(o).concat(e,"min");return n>0&&(l="".concat(n,"h ").concat(l)),r>0&&(l="".concat(r,"j ").concat(l)),l},fetch:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.$refs.stat.loading(),t.$store.dispatch("stats/get_streamed_hours_games",t.streamer_name).then((function(){t.$refs.stat.loaded(),t.workaround++}));case 2:case"end":return e.stop()}}),e)})))()}},mounted:function(){var t=this;setTimeout((function(){t.fetch(),t.interval=setInterval(Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fetch();case 1:case"end":return e.stop()}}),e)}))),12e4)}),100)},beforeDestroy:function(){clearInterval(this.interval)}}),m=n(57),component=Object(m.a)(d,(function(){var t=this,e=t._self._c;return e("statistics-list",{ref:"stat",attrs:{title:"Heures streamÃ©es par jeux",items:t.games,preview_titles:["Plus de jeux","Moins de jeux"]},scopedSlots:t._u([{key:"content",fn:function(n){var r=n.get_items;return[null!=r&&r.length>0?e("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-4"},t._l(r,(function(n){return e("div",{key:n.id,staticClass:"game-duration mx-4 pb-2 flex content-center items-center"},[e("div",{staticClass:"rounded"},[e("img",{staticClass:"w-20 rounded",attrs:{src:"https://static-cdn.jtvnw.net/ttv-boxart/"+n.id+"_IGDB-285x360.jpg"}})]),t._v(" "),e("div",{staticClass:"flex-1 ml-4"},[e("div",{staticClass:"text-2xl"},[t._v(t._s(n.name))]),t._v(" "),e("div",{staticClass:"font-bold text-3xl"},[t._v(t._s(t.format_duration(n.streamed_seconds)))])])])})),0):e("div",[e("p",{staticClass:"text-xl font-bold text-center"},[t._v("\n                       Pas de statistiques\n                   ")])])]}}])})}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{StatisticsList:n(452).default})}}]);